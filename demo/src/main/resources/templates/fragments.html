<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:fragment="head">
    <meta charset="UTF-8">
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <title th:text="${title}">Title</title>
</head>

<nav th:fragment="header">
    <p>
        <a class="header mr-2" href="/login"><span sec:authorize="!isAuthenticated()">Login</span></a>
        <a class="header mr-2" href="/register"><span sec:authorize="!isAuthenticated()">Register</span></a>
        <a class="header mr-2" href="/logout"><span sec:authorize="isAuthenticated()">Logout</span></a>
        <a class="header mr-2" href="/"><span sec:authorize="isAuthenticated()">Home</span></a>
        <a class="header mr-2" href="/users"><span sec:authorize="isAuthenticated() and hasAuthority('ADMIN')">Users</span></a>
        <a class="header mr-2" href="/register"><span sec:authorize="isAuthenticated() and hasAuthority('ADMIN')">Create Users</span></a>
        <a class="header mr-2" href="/roles"><span sec:authorize="isAuthenticated() and hasAuthority('ADMIN')">Roles</span></a>
        <a class="header mr-2" href="/admin"><span sec:authorize="isAuthenticated() and hasAuthority('ADMIN')">Create Admin</span></a>
        <a class="header mr-2" href="/events"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">All Events</span></a>
        <a class="header mr-2" href="events/create"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">Create Event</span></a>
        <a class="header mr-2" href="events/delete"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">Delete Event</span></a>
        <a class="header mr-2" href="/eventCategories"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">All Categories</span></a>
        <a class="header mr-2" href="eventCategories/create"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">Create Category</span></a>
        <a class="header mr-2" href="/tags"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">All Tags</span></a>
        <a class="header mr-2" href="tags/create"><span sec:authorize="isAuthenticated() and hasAnyAuthority('ADMIN', 'USER')">Create Tag</span></a>
    </p>
</nav>

<div th:fragment="roles_table">
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
        <tr>
            <th>Authority</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="role : ${roles}">
            <td th:text="${role.role}"></td>
        </tr>
        </tbody>
    </table>
</div>


<div th:fragment="users_table">
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
        <tr>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>E-mail address</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${users}">
            <td th:text="${user.username}"></td>
            <td th:text="${user.firstName}"></td>
            <td th:text="${user.lastName}"></td>
            <td th:text="${user.emailAddress}"></td>
        </tr>
        </tbody>
    </table>
</div>

</html>