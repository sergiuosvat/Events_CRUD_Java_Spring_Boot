<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:replace="~{fragments :: head}"></head>

<body>
<div class="header" th:replace="~{fragments :: header}"></div>
<div class="body">
    <h1 class="text-center mt-4 mb-4">Spring Boot Security Tutorial</h1>
    <div sec:authorize="isAuthenticated()" class="container mt-4">
        <div class="alert alert-info" role="alert">
            <p class="mb-0">Logged user: <span sec:authentication="name" class="font-weight-bold"></span></p>
            <p class="mb-0">Roles: <span sec:authentication="principal.authorities" class="font-weight-bold"></span></p>
        </div>
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">User Information</h2>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Username:</strong> <span th:text="${user.username}" class="font-weight-bold"></span></p>
                        <p><strong>Name:</strong> <span th:text="${user.firstName} + ' ' + ${user.lastName}" class="font-weight-bold"></span></p>
                        <p><strong>E-mail address:</strong> <span th:text="${user.emailAddress}" class="font-weight-bold"></span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
